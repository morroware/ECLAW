# === ECLAW Remote Claw Machine Configuration ===

# === Timing ===
TRIES_PER_PLAYER=2
TURN_TIME_SECONDS=90
TRY_MOVE_SECONDS=30
POST_DROP_WAIT_SECONDS=8
READY_PROMPT_SECONDS=15
QUEUE_GRACE_PERIOD_SECONDS=300

# === GPIO Pulse/Hold ===
COIN_PULSE_MS=150
DROP_PULSE_MS=200
DROP_HOLD_MAX_MS=5000
MIN_INTER_PULSE_MS=500
DIRECTION_HOLD_MAX_MS=30000
COIN_EACH_TRY=true

# === Control ===
COMMAND_RATE_LIMIT_HZ=25
DIRECTION_CONFLICT_MODE=ignore_new

# === Pins (BCM numbering) ===
PIN_COIN=17
PIN_NORTH=27
PIN_SOUTH=5
PIN_WEST=6
PIN_EAST=24
PIN_DROP=25
PIN_WIN=16

# === Server ===
HOST=0.0.0.0
PORT=8000
DATABASE_PATH=./data/claw.db
ADMIN_API_KEY=changeme

# === Watchdog ===
WATCHDOG_HEALTH_URL=http://127.0.0.1:8000/api/health
WATCHDOG_CHECK_INTERVAL_S=2
WATCHDOG_FAIL_THRESHOLD=3

# === Stream ===
MEDIAMTX_HEALTH_URL=http://127.0.0.1:8889/v3/paths/list

# === PoC Mode ===
# Set to true to run without real GPIO hardware (uses mock/logging)
# Set to false for real Pi 5 hardware
MOCK_GPIO=false

# Relay board polarity: most 8-channel relay modules are active-low
# (relay engages when pin goes LOW). Set to true for those boards.
RELAY_ACTIVE_LOW=true

# gpiozero backend (Pi 5: lgpio is required for reliable hardware access)
GPIOZERO_PIN_FACTORY=lgpio

