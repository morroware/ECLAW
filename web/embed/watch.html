<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0a0a0f">
  <title>Remote Claw Machine â€” Live Stream</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="embed.css">
</head>
<body>
  <div id="embed-app" class="embed-app">
    <!-- Video Stream -->
    <div id="stream-container">
      <video id="stream-video" autoplay playsinline muted></video>

      <!-- Click-to-play overlay (shown when autoplay is blocked) -->
      <div id="play-overlay" class="play-overlay hidden">
        <button id="play-overlay-btn" class="play-overlay-btn" type="button" aria-label="Play video">
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
            <circle cx="32" cy="32" r="30" fill="rgba(0,0,0,0.55)" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
            <polygon points="26,20 26,44 46,32" fill="white"/>
          </svg>
          <span class="play-overlay-label">Tap to Watch Live</span>
        </button>
      </div>

      <!-- Video control bar (mute, fullscreen, pip) -->
      <div id="video-controls" class="video-controls">
        <button id="mute-toggle" class="vc-btn" type="button" aria-label="Unmute" title="Toggle sound">
          <svg id="icon-muted" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/>
          </svg>
          <svg id="icon-unmuted" class="hidden" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
          </svg>
        </button>
        <button id="pip-toggle" class="vc-btn" type="button" aria-label="Picture-in-Picture" title="Picture-in-Picture">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="3" width="20" height="14" rx="2"/><rect x="11" y="9" width="9" height="7" rx="1" fill="currentColor" opacity="0.3"/>
          </svg>
        </button>
        <button id="fullscreen-toggle" class="vc-btn" type="button" aria-label="Fullscreen" title="Toggle fullscreen">
          <svg id="icon-expand" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/>
            <line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/>
          </svg>
          <svg id="icon-compress" class="hidden" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/>
            <line x1="14" y1="10" x2="21" y2="3"/><line x1="3" y1="21" x2="10" y2="14"/>
          </svg>
        </button>
      </div>

      <!-- HUD Overlays on video -->
      <div id="hud-top">
        <div id="hud-top-left">
          <div id="live-badge"><span class="live-dot"></span>LIVE</div>
          <div id="game-state-display"></div>
        </div>
        <div id="hud-top-right">
          <div id="try-display"></div>
          <div id="timer-display"></div>
        </div>
      </div>

      <!-- Current Player Banner -->
      <div id="current-player-hud" class="hidden">
        <span class="player-hud-icon">&#127918;</span>
        <span id="player-hud-name"></span>
      </div>

      <!-- Stream reconnect button -->
      <button id="stream-reconnect" class="hidden" type="button" title="Reconnect video stream">
        &#8635; Reconnect
      </button>

      <!-- Timer bar -->
      <div id="timer-bar-container"><div id="timer-bar"></div></div>
    </div>

    <!-- Compact footer -->
    <div id="embed-footer">
      <span id="connection-status" class="status-dot disconnected"></span>
      <span id="viewer-count">0</span>
      <span class="spacer"></span>
      <a id="play-link" href="" target="_blank" rel="noopener">Play Now &#8594;</a>
    </div>
  </div>

  <script src="/stream.js"></script>
  <script src="embed-watch.js"></script>
</body>
</html>
