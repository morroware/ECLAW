# === ECLAW â€” PoC Demo Configuration ===
# Shorter timers for fast demo cycles. Use this for trade shows,
# presentations, and testing.
#
# Usage:
#   cp .env.demo .env     (then start the server)
#   # or:
#   ECLAW_ENV_FILE=.env.demo make run

# === Timing (shortened for demo) ===
TRIES_PER_PLAYER=2
TURN_TIME_SECONDS=45
TRY_MOVE_SECONDS=15
POST_DROP_WAIT_SECONDS=5
READY_PROMPT_SECONDS=10
QUEUE_GRACE_PERIOD_SECONDS=30

# === GPIO Pulse/Hold ===
COIN_PULSE_MS=150
DROP_PULSE_MS=200
MIN_INTER_PULSE_MS=500
DIRECTION_HOLD_MAX_MS=15000
DROP_HOLD_MAX_MS=8000
COIN_EACH_TRY=true

# === Control ===
COMMAND_RATE_LIMIT_HZ=25
DIRECTION_CONFLICT_MODE=ignore_new

# === Pins (BCM numbering) ===
PIN_COIN=17
PIN_NORTH=27
PIN_SOUTH=5
PIN_WEST=6
PIN_EAST=24
PIN_DROP=25
PIN_WIN=16

# === Server ===
HOST=0.0.0.0
PORT=8000
DATABASE_PATH=./data/claw.db
# IMPORTANT: Change this in production!
ADMIN_API_KEY=demo-admin-key
# Set to your public site origin for internet-facing demos
CORS_ALLOWED_ORIGINS=https://claw.yourdomain.com

# === Watchdog ===
WATCHDOG_HEALTH_URL=http://127.0.0.1:8000/api/health
WATCHDOG_CHECK_INTERVAL_S=2
WATCHDOG_FAIL_THRESHOLD=3

# === Stream ===
MEDIAMTX_HEALTH_URL=http://127.0.0.1:8889/v3/paths/list

# === PoC Mode ===
# Set to false on Pi 5 with real hardware connected
MOCK_GPIO=true
# Uncomment on Pi 5:
# GPIOZERO_PIN_FACTORY=lgpio
